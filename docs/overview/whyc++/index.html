<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://memoria-framework.dev/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://memoria-framework.dev/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://memoria-framework.dev/fonts/KaTeX_Main-Regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://memoria-framework.dev/fonts/KaTeX_Math-Italic.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://memoria-framework.dev/main.3a52b47fd32d46727919d5ee31dfaf1a70b7d47bb340b8010659a1cb153131f4f58e61dc6e8b3e488c6e105deecf67bf41ae677c2a9f4eb9df211bf4b00eb9e5.css integrity="sha512-OlK0f9MtRnJ5GdXuMd+vGnC31HuzQLgBBlmhyxUxMfT1jmHcbos+SIxuEF3uz2e/Qa5nfCqfTrnfIRv0sA655Q==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Why C++ - Memoria</title><meta name=description content="Why Memoria is using C++"><link rel=canonical href=https://memoria-framework.dev/docs/overview/whyc++/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Why C++"><meta property="og:description" content="Why Memoria is using C++"><meta property="og:url" content="https://memoria-framework.dev/docs/overview/whyc++/"><meta property="og:site_name" content="Memoria"><meta property="article:published_time" content="2020-10-06T08:49:31+00:00"><meta property="article:modified_time" content="2020-10-06T08:49:31+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content><meta name=twitter:creator content><meta name=twitter:title content="Why C++"><meta name=twitter:description content="Why Memoria is using C++"><meta name=twitter:card content="summary"><meta name=twitter:image:alt content="Why C++"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://memoria-framework.dev/#/schema/person/1","name":"Memoria","url":"https://memoria-framework.dev/","sameAs":[],"image":{"@type":"ImageObject","@id":"https://memoria-framework.dev/#/schema/image/1","url":"https://memoria-framework.dev/\u003cnil\u003e","width":null,"height":null,"caption":"Memoria"}},{"@type":"WebSite","@id":"https://memoria-framework.dev/#/schema/website/1","url":"https://memoria-framework.dev/","name":"Memoria","description":"","publisher":{"@id":"https://memoria-framework.dev/#/schema/person/1"}},{"@type":"WebPage","@id":"https://memoria-framework.dev/docs/overview/whyc++/","url":"https://memoria-framework.dev/docs/overview/whyc++/","name":"Why C\u002b\u002b","description":"Why Memoria is using C\u002b\u002b","isPartOf":{"@id":"https://memoria-framework.dev/#/schema/website/1"},"about":{"@id":"https://memoria-framework.dev/#/schema/person/1"},"datePublished":"2020-10-06T08:49:31CET","dateModified":"2020-10-06T08:49:31CET","breadcrumb":{"@id":"https://memoria-framework.dev/docs/overview/whyc++/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://memoria-framework.dev/docs/overview/whyc++/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://memoria-framework.dev/docs/overview/whyc++/"]}]},{"@type":"BreadcrumbList","@id":"https://memoria-framework.dev/docs/overview/whyc++/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://memoria-framework.dev/","url":"https://memoria-framework.dev/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://memoria-framework.dev/docs/","url":"https://memoria-framework.dev/docs/","name":"Docs"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://memoria-framework.dev/docs/overview/","url":"https://memoria-framework.dev/docs/overview/","name":"Overview"}},{"@type":"ListItem","position":4,"item":{"@id":"https://memoria-framework.dev/docs/overview/whyc++/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"https://memoria-framework.dev/#/schema/article/1","headline":"Why C\u002b\u002b","description":"Why Memoria is using C\u002b\u002b","isPartOf":{"@id":"https://memoria-framework.dev/docs/overview/whyc++/"},"mainEntityOfPage":{"@id":"https://memoria-framework.dev/docs/overview/whyc++/"},"datePublished":"2020-10-06T08:49:31CET","dateModified":"2020-10-06T08:49:31CET","author":{"@id":"https://memoria-framework.dev/#/schema/person/2"},"publisher":{"@id":"https://memoria-framework.dev/#/schema/person/1"},"image":{"@id":"https://memoria-framework.dev/docs/overview/whyc++/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://memoria-framework.dev/#/schema/person/2","name":"Victor Smirnov","sameAs":[]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://memoria-framework.dev/docs/overview/whyc++/#/schema/image/2","url":null,"contentUrl":null,"caption":"Why C\u002b\u002b"}]}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://memoria-framework.dev/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://memoria-framework.dev/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://memoria-framework.dev/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://memoria-framework.dev/site.webmanifest></head><body class="docs single"><div class=header-bar></div><header class="navbar navbar-expand-md navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href=/ aria-label=Memoria>Memoria</a>
<button class="btn btn-menu d-block d-md-none order-5" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-start border-0 py-md-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-md-none"></div><div class="offcanvas-header d-md-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=/>Memoria</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body px-4"><h3 class="h6 text-uppercase mb-3 d-md-none">Main</h3><ul class="nav flex-column flex-md-row ms-md-n3"><li class=nav-item><a class="nav-link ps-0 py-1 active" href=/docs/overview/introduction/>Docs</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/tutorial/quick-start>Tutorial</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/api/overview/>API</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/python/overview/>Python</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/subprojects/overview/>Subprojects</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/victor-smirnov/memoria/issues>Issues</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/victor-smirnov/memoria/discussions>Discussions</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/victor-smirnov/memoria/wiki>Releases</a></li></ul><hr class="text-black-50 my-4 d-md-none"><h3 class="h6 text-uppercase mb-3 d-md-none">Socials</h3><ul class="nav flex-column flex-md-row ms-md-auto me-md-n5 pe-md-2"><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/victor-smirnov/memoria><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-md-none">GitHub</small></a></li></ul></div></div></nav></header><nav class="doks-subnavbar py-2 sticky-lg-top" aria-label="Secondary navigation"><div class="container-xxl d-flex align-items-md-center"><form class="doks-search position-relative flex-grow-1 me-auto"><input id=search class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded d-none"></div></form><button class="btn doks-sidebar-toggle d-lg-none ms-3 order-3 collapsed" type=button data-bs-toggle=collapse data-bs-target=#doks-docs-nav aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle documentation navigation"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></button></div></nav><div class=container-xxl><aside class=doks-sidebar><nav id=doks-docs-nav class="collapse d-lg-none" aria-label="Tertiary navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-overview aria-expanded=true>
Overview</button><div class="collapse show" id=section-overview><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/overview/introduction/>Introduction to Memoria</a></li><li><a class="docs-link rounded" href=/docs/overview/definitions/>Basic Definitions</a></li><li><a class="docs-link rounded active" href=/docs/overview/whyc++/>Why C++</a></li><li><a class="docs-link rounded" href=/docs/overview/hardware-accel/>Hardware Acceleration in Memoria</a></li><li><a class="docs-link rounded" href=/docs/overview/faq/>FAQ</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-datazoo aria-expanded=false>
Data Zoo</button><div class=collapse id=section-datazoo><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/data-zoo/overview/>Core Data Structures -- Overview</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/partial-sum-tree/>Partial Sums Tree</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/searchable-seq/>Searchable Sequence</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/louds-tree/>Level Order Unary Degree Sequence (LOUDS)</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/wavelet-tree/>Multiary Wavelet Trees</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/mutistream-tree/>Mutistream Balanced Tree</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/packed-allocator/>Packed Allocator</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/associative-memory-1/>Associative Memory (Part 1)</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-storage aria-expanded=false>
Storage Engines</button><div class=collapse id=section-storage><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/storage/overview/>Storage Engines Overview</a></li><li><a class="docs-link rounded" href=/docs/storage/memory-store/>Memory Store</a></li><li><a class="docs-link rounded" href=/docs/storage/swmr-store/>SWMR Store</a></li><li><a class="docs-link rounded" href=/docs/storage/overlay-store/>Overlay Store</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-runtime aria-expanded=false>
Runtime Environment</button></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-linked-data aria-expanded=false>
Linked Data & SDN</button></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-d-phil aria-expanded=false>
Digital Philosophy</button><div class=collapse id=section-d-phil><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/d-phil/intro/>Philosophy of Memoria - Intro</a></li><li><a class="docs-link rounded" href=/docs/d-phil/ai/>Memoria and Artificial Intelligence</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-mbt aria-expanded=false>
Memoria Build Tool</button><div class=collapse id=section-mbt><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/mbt/overview/>MBT Overview</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-tests aria-expanded=false>
Testing Framework</button><div class=collapse id=section-tests><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/tests/overview/>Tests -- Overview</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-datascope aria-expanded=false>
Datascope</button><div class=collapse id=section-datascope><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/datascope/overview/>Datascope Overview</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-misc aria-expanded=false>
Misc</button></li></ul></nav></aside></div><div class="wrap container-xxl" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-overview aria-expanded=true>
Overview</button><div class="collapse show" id=section-overview><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/overview/introduction/>Introduction to Memoria</a></li><li><a class="docs-link rounded" href=/docs/overview/definitions/>Basic Definitions</a></li><li><a class="docs-link rounded active" href=/docs/overview/whyc++/>Why C++</a></li><li><a class="docs-link rounded" href=/docs/overview/hardware-accel/>Hardware Acceleration in Memoria</a></li><li><a class="docs-link rounded" href=/docs/overview/faq/>FAQ</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-datazoo aria-expanded=false>
Data Zoo</button><div class=collapse id=section-datazoo><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/data-zoo/overview/>Core Data Structures -- Overview</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/partial-sum-tree/>Partial Sums Tree</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/searchable-seq/>Searchable Sequence</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/louds-tree/>Level Order Unary Degree Sequence (LOUDS)</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/wavelet-tree/>Multiary Wavelet Trees</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/mutistream-tree/>Mutistream Balanced Tree</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/packed-allocator/>Packed Allocator</a></li><li><a class="docs-link rounded" href=/docs/data-zoo/associative-memory-1/>Associative Memory (Part 1)</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-storage aria-expanded=false>
Storage Engines</button><div class=collapse id=section-storage><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/storage/overview/>Storage Engines Overview</a></li><li><a class="docs-link rounded" href=/docs/storage/memory-store/>Memory Store</a></li><li><a class="docs-link rounded" href=/docs/storage/swmr-store/>SWMR Store</a></li><li><a class="docs-link rounded" href=/docs/storage/overlay-store/>Overlay Store</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-runtime aria-expanded=false>
Runtime Environment</button></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-linked-data aria-expanded=false>
Linked Data & SDN</button></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-d-phil aria-expanded=false>
Digital Philosophy</button><div class=collapse id=section-d-phil><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/d-phil/intro/>Philosophy of Memoria - Intro</a></li><li><a class="docs-link rounded" href=/docs/d-phil/ai/>Memoria and Artificial Intelligence</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-mbt aria-expanded=false>
Memoria Build Tool</button><div class=collapse id=section-mbt><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/mbt/overview/>MBT Overview</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-tests aria-expanded=false>
Testing Framework</button><div class=collapse id=section-tests><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/tests/overview/>Tests -- Overview</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-datascope aria-expanded=false>
Datascope</button><div class=collapse id=section-datascope><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/docs/datascope/overview/>Datascope Overview</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-misc aria-expanded=false>
Misc</button></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#two-types-of-generic-programming>Two Types of Generic Programming</a></li><li><a href=#generic-programming-for-data-structures>Generic Programming for Data Structures</a></li><li><a href=#c-for-data-structures>C++ for Data Structures</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Why C++</h1><p class=lead></p><nav class=d-xl-none aria-label="Quaternary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#two-types-of-generic-programming>Two Types of Generic Programming</a></li><li><a href=#generic-programming-for-data-structures>Generic Programming for Data Structures</a></li><li><a href=#c-for-data-structures>C++ for Data Structures</a></li></ul></nav></div></nav><p>Memoria is using C++ as its main development language and it&rsquo;s a deliberate decision. This document explains what C++ gives to data platforms and how optimal language and run-time environment might look like.</p><p>From set-theoretic perspective there are much more data structures than algorithms, this is the reason why generic programming (GP) support is important for any modern programming language. The same linear search algorithm can be applied to the great variety of physical data layouts and types. Generic programming hides this variety from the programmer.</p><h2 id=two-types-of-generic-programming>Two Types of Generic Programming<a href=#two-types-of-generic-programming class=anchor aria-hidden=true>#</a></h2><p>There are two main ways how generic programming can be implemented. <strong>Polymorphic</strong> GP is based on the fact that all objects allocated on the heap have common layout and access pattern. They are long-lived and referenced via their addresses in the heap. Primitive data types may also be wrapped into an object (boxed). In this case it&rsquo;s possible to compile only one instance of generic procedure and then use virtual dispatch to select possibly different execution paths for different types. Polymorphic GP-supporting compiler just checks generic type substitution rules at compile-type, then erase all type-specific information on generic variables because it&rsquo;s not actually needed at run-time. This type of GP is the most scalable, providing that the programmer is happy with heap allocation and primitive data types boxing.</p><p>As a specific optimization, some polymorphic GP compilers can do whole or partial program monomorphisation, when they generate type-specific instances of procedures. Note that from the programmer&rsquo;s perspective, this optimization is a black box, there is no flexible way to mange it. Yet it&rsquo;s a cheap way to increase performance of generic code in some cases.</p><p>Compilers supporting <strong>Monomorphic</strong> GP produce specialized instance of generic procedure for each set of types it is used with in the program. This type of GP produces highly data-specialized and potentially the most performant code but it&rsquo;s not scalable. Monomorphic GP code is not modularizable, there is no separate compilation of generic libraries possible. In some cases it&rsquo;s possible to hide generic code behind <a href=https://bitbucket.org/vsmirnov/memoria/wiki/TemplatePimpl>quasi-generic interfaces</a>, compiled separately from application code using it. Nevertheless, if definition of a generic procedure or datatype is changed, all code using it directly must be recompiled.</p><p>Monomorphic GP is not limited to a specific heap data layout scheme, it doesn&rsquo;t depend on objects and virtual dispatch, it&rsquo;s truly generic. From other side, polymorphic GP is limited to heap objects but allows separate compilation of generic code because only one type of generic procedure is instantiated. Unfortunately, there is no cheap and elegant way to have both types of GP in a single language. So, practical way is to stick with only one type of GP: Java, C# and other languages with managed heaps support polymorphic GP. C++, D and Rust support mononorphic GP.</p><p>Note also that while some languages like C# (and Java in a distant future) support elements of monomorphic GP like generics on primitive data types, this should not be considered fully featured monomorphic GP, because such schemes are not Turing-complete and hence can&rsquo;t be considered a programming. More on this below.</p><p>By and large, the following is true for both types of GP with minor exceptions. Monomorphic GP is focused on Turing-complete type construction and specialization. The result is a great variety of different physical data layouts in the memory and layout-specific operations on that data, that may lead to unnecessary increase in machine code size.</p><p>Polymorphic GP is built around specific object layouts in the heap allowing to compile only one instance of a generic procedure for all types. This type of GP does not usually affect run-time code in any way. Instead it allows a programmer to define a set of type substitution rules, which are enforced at compile time. Polymorphic GP just guarantees that actual type substitution in the program is correct.</p><p>Though monomorphic GP languages may also provide type substitution checking, rules are much more complex in this case, and there is ongoing debate around how to implement this feature efficiently. Rust has some form of substitution checking, but C++ doesn&rsquo;t (yet).</p><h2 id=generic-programming-for-data-structures>Generic Programming for Data Structures<a href=#generic-programming-for-data-structures class=anchor aria-hidden=true>#</a></h2><p>So, polymorphic GP is scalable in terms of generic code side but limited to object heaps with predefined data layouts. This is fine until our data structures are well-reducible to object graphs (linked lists) without introducing much overhead. Many practically important lightweight in-memory data structures like arrays, maps, trees, generic graphs and so on are of this kind. When specialization of such simple data structure on a primitive data types is desirable, restricted form of monomorphisation like in C# may be provided.</p><p>Though linked list is pretty generic data structure by itself and suitable to be a foundation for many practical data structures, object heaps are not always optimal when we need more precise (bit-grade) control on physical data layout in main memory. For example, linked list-based implementations of suffix trees, used in bioinformatics, have around 40x space overhead over raw unstructured genome data. But custom schemes have much more improved space properties.</p><p>In order to be efficient for generic data structures implementation, any programming language must provide generic configurable mapping from logical data space (ex.: objects) to physical data layout in main and external memory. C++ by itself together with its GP capabilities is well suitable for this task.</p><h2 id=c-for-data-structures>C++ for Data Structures<a href=#c-for-data-structures class=anchor aria-hidden=true>#</a></h2><p>First, C++ is a multi-paradigm language with very cheap abstractions which do not impose much overhead at run-time. In the simplest case C++ uses zero-cost object mapping to a raw memory location. That means, information other than object properties is put into an object by the compiler. Important details of this mapping like alignment can be controlled via compiler attributes and pragma-directives.</p><p>Second, C++ has generic value types when a value is physically put inside specified context withing existing memory mapping:</p><pre><code class=language-c++>template &lt;typename T&gt;
struct IntContextMapping {
    int prefix_; // Some data fields before.
    T value_     // value_ mapping will be in-lined between prefix_ 
                 // and suffix_ using default alignment.
    int suffix_; // Some data fields after.
};
</code></pre><p>Third, C++ allows building almost arbitrary types using template metaprogramming, and hence, arbitrary memory mappings. The following example demonstrates how different classes can be mapped linearly to a memory region with specified order via linear class inheritance hierarchy generator:</p><pre><code class=language-c++>// Forward declaration for linear hierarchy generator helper class. The
// helper takes list of mapping members which are classes with one template
// parameter, that is a chained base class.
template &lt;template &lt;typename Base&gt; class C...&gt; struct LinearHierarchy; 

// Main case. Split the list into head and tail. Instantiate Head as a superclass
// with LinearHierarchy&lt;Tail...&gt; as a parameter.
template &lt;
    template &lt;typename&gt; class Head,
    template &lt;typename&gt; class Tail...
&gt; 
struct LinearHierarchy: Head&lt;LinearHierarchy&lt;Tail...&gt;&gt; {};

// There are no more members in the list. Stop the generator. 
template &lt;&gt; struct LinearHierarchy {
    void visit() {} // do nothing here
};


// First example class for our linear mapping. 
template &lt;typename Base&gt;
struct Member1: Base {
    int value1_ = 1; // simple data member 

    // Function member that may call functions in other layout
    // members upward the hierarchy providing their names are known.
    void visit() 
    {
        Base::visit();
        std::cout &lt;&lt; value1_ &lt;&lt; &quot; &quot;;
    }
};

// Second example class for our linear mapping. 
template &lt;typename Base&gt;
struct Member2: Base {
    int value2_ = 2;
    void visit() {
        Base::visit();
        std::cout &lt;&lt; value2_ &lt;&lt; &quot; &quot;;
    }
};

// Fird example class for our linear mapping. 
template &lt;typename Base&gt;
struct Member3: Base {
    int value3_ = 3;
    void visit() {
        Base::visit();
        std::cout &lt;&lt; value3_ &lt;&lt; &quot; &quot;;
    }
};

void do_something() 
{
    LinearHierarchy&lt;Member1, Member2, Member3&gt; m;
    m.visit(); // prints 3 2 1
}
</code></pre><p>In other words we can build arbitrary type-to-memory mappings using basic C++ rules for POD types and template metaprogramming. In Memoria complex high-level data structures like relational tables are split into reusable fragments, which are combined by the metaprogramming framework into compound structures and mapped to raw memory blocks. Building a complex data structure from simple blocks, compiler can solve combinatorial optimization problems by selecting fragments most suitable for the specific context.</p><div class="docs-navigation d-flex justify-content-between"><a href=/docs/overview/definitions/><div class="card my-1"><div class="card-body py-2">&larr; Basic Definitions</div></div></a><a class=ms-auto href=/docs/overview/hardware-accel/><div class="card my-1"><div class="card-body py-2">Hardware Acceleration in Memoria &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://www.github.com/>Github</a>, <a href=https://gohugo.io/>Hugo</a>, and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline><li class=list-inline-item><a href=/privacy-policy/>Privacy</a></li></ul></div></div></div></footer><script src=/js/bootstrap.min.73ca27033146a505b6a0f66b79d99f613a18e778bc9606fd223476d0ebf0fc10508b0d4f5c448b0a946fa1d71fbeffaae9732adc0c2890e61c449217fd6ee1c0.js integrity="sha512-c8onAzFGpQW2oPZredmfYToY53i8lgb9IjR20Ovw/BBQiw1PXESLCpRvodcfvv+q6XMq3AwokOYcRJIX/W7hwA==" crossorigin=anonymous defer></script>
<script src=/js/highlight.min.20b134e1144736c37382377dc01a9a460e52977eddf8b128d70c597f1073660effc532a82d05184541720a95a88efcda25a0528b0f47d23a04f4e3bd997122eb.js integrity="sha512-ILE04RRHNsNzgjd9wBqaRg5Sl37d+LEo1wxZfxBzZg7/xTKoLQUYRUFyCpWojvzaJaBSiw9H0joE9OO9mXEi6w==" crossorigin=anonymous defer></script>
<script src=/js/vendor/katex/dist/katex.min.849bcb0a26d9f709f5e2355f5188d1c21e07bb04544918a1c2a6d290dc2ebcb9b787ba92911f609242c898b7ce8009c541be9153a357e673818164f829d917fe.js integrity="sha512-hJvLCibZ9wn14jVfUYjRwh4HuwRUSRihwqbSkNwuvLm3h7qSkR9gkkLImLfOgAnFQb6RU6NX5nOBgWT4KdkX/g==" crossorigin=anonymous defer></script>
<script src=/js/vendor/katex/dist/contrib/auto-render.min.916823ec103cf367b71e28a6f01513cb9c3ac6708ccb5229402ec46b8e30a8b25003db694df35d80e9dd666a371f327c6152790617b6256390c164109a90bd4c.js integrity="sha512-kWgj7BA882e3Hiim8BUTy5w6xnCMy1IpQC7Ea44wqLJQA9tpTfNdgOndZmo3HzJ8YVJ5Bhe2JWOQwWQQmpC9TA==" crossorigin=anonymous defer></script>
<script src=/main.min.56cf146845ee56429c57a9bb74bee52540a1aa942a32506ad0d185db760f2f7a5d76f39cde824735c8b7e89f2e4453cc4da383eaa2c2a7d6a2c9dafd7061e74d.js integrity="sha512-Vs8UaEXuVkKcV6m7dL7lJUChqpQqMlBq0NGF23YPL3pddvOc3oJHNci36J8uRFPMTaOD6qLCp9aiydr9cGHnTQ==" crossorigin=anonymous defer></script>
<script src=https://memoria-framework.dev/index.min.c19d6182188f983929691e5ec4b56be40ad5b1d62f432ebfedf8e2672965511f0929210864a61299ae06b074d410764065bfd434135df42fd22a42f64c442d0f.js integrity="sha512-wZ1hghiPmDkpaR5exLVr5ArVsdYvQy6/7fjiZyllUR8JKSEIZKYSma4GsHTUEHZAZb/UNBNd9C/SKkL2TEQtDw==" crossorigin=anonymous defer></script></body></html>